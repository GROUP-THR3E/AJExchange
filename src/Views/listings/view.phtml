<?php
/**
 * @var View $this
 * @var Listing $listing
 */

use GroupThr3e\AJExchange\Models\Listing;
use GroupThr3e\AJExchange\Util\View;

$title = 'listing';
?>

<div class="view-listing-grid-container my-5 listing-grid-design mx-auto">
    <div class="view-listing-main-image-container listing-grid-design">
        <img class="view-listing-main-image w-100" src="<?= $this->listingImage($listing->getImageUrls()[0]) ?>" alt="">
    </div>
    <div class="view-listing-header listing-grid-design">
        <h6><?= $listing->getUser()->getFullName() ?>, <?= $listing->getUser()->getOffice()->getAddress() ?></h6>
        <div>
            <h4><?= $listing->getListingName() ?></h4>
        </div>
    </div>
    <div class="view-listing-interact listing-grid-design">
        <?php if($listing->getType()=='sell'): ?>
        <h6>Is looking to sell for: Â£<?= $listing->getPrice() ?> </h6>
        <?php elseif($listing->getType()=='exchange'): ?>
        <h6>Is looking to exchange for: <?= $listing ->getDesiredItem() ?></h6>
        <?php elseif($listing->getType()=='giveaway'): ?>
        <h6>Is looking to give away</h6>
        <?php endif; ?>
        <button type="submit" class="btn btn-primary w-100 mt-4">Submit</button>
    </div>
    <div class="view-listing-extra-images listing-grid-design d-flex flex-column gap-2">
        <?php foreach ($listing->getImageUrls()  as $image): ?>
        <img class="view-listing-extra-image" src="<?= $this->listingImage($image) ?>" alt="">
        <?php endforeach; ?>
    </div>
    <div class="view-listing-description listing-grid-design"><?=$listing->getDescription() ?></div>
</div>
